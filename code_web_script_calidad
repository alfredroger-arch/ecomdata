// ============================================
// CONFIGURACIÃ“N GENERAL - MODIFICAR AQUÃ
// ============================================

const CONFIG = {
  appTitle: "Portal de Informes - Ãrea de Calidad Cualidativa",  // â† CAMBIAR TÃTULO DE LA PÃGINA
  companyName: "IMPULSA A365",               // â† CAMBIAR NOMBRE DE LA EMPRESA
  primaryColor: "#1a237e",                           // â† COLOR AZUL OSCURO PRINCIPAL
  secondaryColor: "#0d47a1",                         // â† COLOR AZUL MEDIO
  accentColor: "#d32f2f",                            // â† COLOR ROJO CORPORATIVO
  lightColor: "#e3f2fd",                             // â† COLOR FONDO CLARO
  textColor: "#212121",                              // â† COLOR TEXTO
  textSize: "14px",                                  // â† TAMAÃ‘O DE TEXTO (NO CAMBIAR)
  fontFamily: "Lato, Arial, sans-serif"              // â† FUENTE (NO CAMBIAR)
};

// ============================================
// LISTA DE DASHBOARDS - MODIFICAR ESTE ARRAY
// ============================================

const DASHBOARDS = [  // â† AÃ‘ADIR/QUITAR/MODIFICAR DASHBOARDS AQUÃ
  {
    id: 1,                                           // â† ID ÃšNICO (no repetir)
    titulo: "PORTABILIDAD MASIVOS",                 // â† TÃTULO DEL DASHBOARD
    descripcion: "Resultados de los monitoreos realizados por el Ã¡rea de calidad", // â† DESCRIPCIÃ“N
    categoria: "Calidad",                          // â† CATEGORÃA (aparece en filtro)
    fecha: "2025-12-20",                             // â† FECHA formato YYYY-MM-DD
    url: "https://lookerstudio.google.com/reporting/c7b01004-28aa-4097-8e4b-7e495a97eed0", // â† URL COMPLETA de Looker Studio
    icono: "ðŸ“Š",                                     // â† EMOJI (ðŸ“ŠðŸ“ˆðŸ’°ðŸ­ðŸ“±ðŸ‘¥â­ðŸššâœ…ðŸ”ðŸŽ¯âš™ï¸)
    prioridad: "alta",                               // â† alta/media/baja
    actualizado: "Hoy",                              // â† Hoy/Ayer/2 dÃ­as/1 semana
    creador: "A.M.S."                        // â† QUIÃ‰N LO CREÃ“
  },
  {
    id: 2,
    titulo: "PREVENTIVA FIJA",                 // â† TÃTULO DEL DASHBOARD
    descripcion: "Resultados de los monitoreos realizados por el Ã¡rea de calidad", // â† DESCRIPCIÃ“N
    categoria: "Calidad",                          // â† CATEGORÃA (aparece en filtro)
    fecha: "2026-01-13",                             // â† FECHA formato YYYY-MM-DD
    url: "https://lookerstudio.google.com/reporting/4cdca744-6798-4c32-969b-1db8cc1eb27d", // â† URL COMPLETA de Looker Studio
    icono: "ðŸ“Š",                                     // â† EMOJI (ðŸ“ŠðŸ“ˆðŸ’°ðŸ­ðŸ“±ðŸ‘¥â­ðŸššâœ…ðŸ”ðŸŽ¯âš™ï¸)
    prioridad: "alta",                               // â† alta/media/baja
    actualizado: "Hoy",                              // â† Hoy/Ayer/2 dÃ­as/1 semana
    creador: "A.M.S."                        // â† QUIÃ‰N LO CREÃ“
  },
  // ============================================
  // PARA AGREGAR MÃS DASHBOARDS, COPIAR Y PEGAR:
  // ============================================
  // {
  //   id: 3,                                      // â† INCREMENTAR EL NÃšMERO
  //   titulo: "NUEVO DASHBOARD",                  // â† PONER TÃTULO
  //   descripcion: "DescripciÃ³n breve",           // â† DESCRIPCIÃ“N
  //   categoria: "Nueva CategorÃ­a",               // â† CATEGORÃA (aparecerÃ¡ en filtro)
  //   fecha: "2024-01-01",                        // â† FECHA ACTUAL
  //   url: "https://lookerstudio.google.com/...", // â† URL COMPLETA
  //   icono: "ðŸ“Š",                                // â† ELEGIR EMOJI
  //   prioridad: "media",                         // â† alta/media/baja
  //   actualizado: "Hoy",                         // â† Hoy/Ayer/2 dÃ­as/1 semana
  //   creador: "Tu Nombre"                        // â† TU NOMBRE O DEPARTAMENTO
  // },
  // ============================================
  // SIGUEN LOS DASHBOARDS EXISTENTES...
  // ============================================
  {
    id: 3,
    titulo: "123 PREPAGO",                 // â† TÃTULO DEL DASHBOARD
    descripcion: "Resultados de los monitoreos realizados por el Ã¡rea de calidad", // â† DESCRIPCIÃ“N
    categoria: "Calidad",                          // â† CATEGORÃA (aparece en filtro)
    fecha: "2026-01-23",                             // â† FECHA formato YYYY-MM-DD
    url: "https://lookerstudio.google.com/reporting/22717fdc-2357-4570-a559-0531dbe4baf6", // â† URL COMPLETA de Looker Studio
    icono: "ðŸ“Š",                                     // â† EMOJI (ðŸ“ŠðŸ“ˆðŸ’°ðŸ­ðŸ“±ðŸ‘¥â­ðŸššâœ…ðŸ”ðŸŽ¯âš™ï¸)
    prioridad: "alta",                               // â† alta/media/baja
    actualizado: "Hoy",                              // â† Hoy/Ayer/2 dÃ­as/1 semana
    creador: "A.M.S."                        // â† QUIÃ‰N LO CREÃ“
  },
  {
    id: 4,
    titulo: "Informe General",                 // â† TÃTULO DEL DASHBOARD
    descripcion: "Resultados generales de los principales indicadores de Calidad", // â† DESCRIPCIÃ“N
    categoria: "Calidad",                          // â† CATEGORÃA (aparece en filtro)
    fecha: "2025-01-01",                             // â† FECHA formato YYYY-MM-DD
    url: "https://lookerstudio.google.com/reporting/22717fdc-2357-4570-a559-0531dbe4baf6", // â† URL COMPLETA de Looker Studio
    icono: "ðŸ“Š",                                     // â† EMOJI (ðŸ“ŠðŸ“ˆðŸ’°ðŸ­ðŸ“±ðŸ‘¥â­ðŸššâœ…ðŸ”ðŸŽ¯âš™ï¸)
    prioridad: "media",                               // â† alta/media/baja
    actualizado: "Hoy",                              // â† Hoy/Ayer/2 dÃ­as/1 semana
    creador: "A.M.S."                        // â† QUIÃ‰N LO CREÃ“
  },

];

// ============================================
// FUNCIONES - NO MODIFICAR
// ============================================

function doGet() {
  return HtmlService.createTemplateFromFile('Index')
    .evaluate()
    .setTitle(CONFIG.appTitle)
    .addMetaTag('viewport', 'width=device-width, initial-scale=1');
}

function getConfig() {
  return CONFIG;
}

function getDashboards() {
  return DASHBOARDS;
}

function getDashboardsPorCategoria(categoria) {
  if (!categoria || categoria === 'todos') {
    return DASHBOARDS;
  }
  return DASHBOARDS.filter(dashboard => dashboard.categoria === categoria);
}

function getCategorias() {
  const categorias = [...new Set(DASHBOARDS.map(d => d.categoria))];
  return categorias.sort();
}

function buscarDashboards(termino) {
  if (!termino) return DASHBOARDS;
  
  const terminoLower = termino.toLowerCase();
  return DASHBOARDS.filter(dashboard => 
    dashboard.titulo.toLowerCase().includes(terminoLower) ||
    dashboard.descripcion.toLowerCase().includes(terminoLower) ||
    dashboard.categoria.toLowerCase().includes(terminoLower) ||
    dashboard.creador.toLowerCase().includes(terminoLower)
  );
}
